
- name : Mon playbook
  hosts: all
  become: yes 
  tasks:
    - name: check connection
      ping: 

    - name: webservers-group caracteristique
      debug:
        msg: "type de serveur : {{server_type}} | Fournisseur cloud : {{cloud_provider}} | Type d'instance: {{ec2_type}}"  

    - name: create file in remote server
      file:
        path: "/home/ubuntu/DrFanel-Images/remote-file.txt"
        state: touch
        owner: root
        group: root
        mode: 0755
    
    - name: create user mugen
      user: 
        name: mugen
        state: present 
        groups: sudo
        password: "{{ 'malyoun123' | password_hash('sha512') }}"
      register : user_mugen

    - name: debug user mugen
      debug:
        var: user_mugen
      

